{
  "@timestamp": "2025-01-28T10:07:41.370665066+01:00",
  "@version": "1",
  "message": "Feil under behandling av inntransaksjoner. Feilmelding: [jcc][t4][102][10040][4.34.30] Batch failure.  The batch was submitted, but at least one exception occurred on an individual member of the batch.\nUse getNextException() to retrieve the exceptions for specific batched elements. ERRORCODE=-4229, SQLSTATE=null",
  "logger_name": "no.nav.sokos.spk.mottak.service.ValidateTransaksjonService",
  "thread_name": "db-scheduler-pool-10-thread-5",
  "level": "ERROR",
  "level_value": 40000,
  "stack_trace": "com.ibm.db2.jcc.am.BatchUpdateException: [jcc][t4][102][10040][4.34.30] Batch failure.  The batch was submitted, but at least one exception occurred on an individual member of the batch.\nUse getNextException() to retrieve the exceptions for specific batched elements. ERRORCODE=-4229, SQLSTATE=null\n\tat com.ibm.db2.jcc.am.b5.a(b5.java:502)\n\tat com.ibm.db2.jcc.am.Agent.endBatchedReadChain(Agent.java:434)\n\tat com.ibm.db2.jcc.am.kr.a(kr.java:5666)\n\tat com.ibm.db2.jcc.am.kr.c(kr.java:5218)\n\tat com.ibm.db2.jcc.am.kr.executeBatch(kr.java:3206)\n\tat com.zaxxer.hikari.pool.ProxyStatement.executeBatch(ProxyStatement.java:128)\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeBatch(HikariProxyPreparedStatement.java)\n\tat kotliquery.Session$rowsBatched$1.invoke(Session.kt:138)\n\tat kotliquery.Session$rowsBatched$1.invoke(Session.kt:133)\n\tat kotliquery.LoanPattern.using(LoanPattern.kt:11)\n\tat kotliquery.Session.rowsBatched(Session.kt:133)\n\tat kotliquery.Session.batchPreparedNamedStatement(Session.kt:225)\n\tat no.nav.sokos.spk.mottak.repository.TransaksjonRepository.insertBatch$lambda$1(TransaksjonRepository.kt:43)\n\tat io.micrometer.core.instrument.AbstractTimer.recordCallable(AbstractTimer.java:178)\n\tat no.nav.sokos.spk.mottak.repository.TransaksjonRepository.insertBatch(TransaksjonRepository.kt:42)\n\tat no.nav.sokos.spk.mottak.service.ValidateTransaksjonService.saveTransaksjonAndAvvikTransaksjon$lambda$25(ValidateTransaksjonService.kt:113)\n\tat no.nav.sokos.spk.mottak.util.SQLUtils.transaction$lambda$4(SQLUtils.kt:26)\n\tat kotliquery.LoanPattern.using(LoanPattern.kt:11)\n\tat kotliquery.PackageKt.using(package.kt:37)\n\tat no.nav.sokos.spk.mottak.util.SQLUtils.transaction(SQLUtils.kt:24)\n\tat no.nav.sokos.spk.mottak.service.ValidateTransaksjonService.saveTransaksjonAndAvvikTransaksjon(ValidateTransaksjonService.kt:96)\n\tat no.nav.sokos.spk.mottak.service.ValidateTransaksjonService.validateInnTransaksjon(ValidateTransaksjonService.kt:61)\n\tat no.nav.sokos.spk.mottak.config.JobTaskConfig.recurringReadParseFileAndValidateTransactionsTask$lambda$1$lambda$0(JobTaskConfig.kt:65)\n\tat no.nav.sokos.spk.mottak.util.CallIdUtils.withCallId(CallIdUtils.kt:13)\n\tat no.nav.sokos.spk.mottak.config.JobTaskConfig.recurringReadParseFileAndValidateTransactionsTask$lambda$1(JobTaskConfig.kt:60)\n\tat com.github.kagkarlsson.scheduler.task.helper.Tasks$RecurringTaskBuilder$2.executeRecurringly(Tasks.java:141)\n\tat com.github.kagkarlsson.scheduler.task.helper.RecurringTask.execute(RecurringTask.java:101)\n\tat com.github.kagkarlsson.scheduler.event.ExecutionChain.proceed(ExecutionChain.java:37)\n\tat com.github.kagkarlsson.scheduler.ExecutePicked.executePickedExecution(ExecutePicked.java:113)\n\tat com.github.kagkarlsson.scheduler.ExecutePicked.run(ExecutePicked.java:89)\n\tat com.github.kagkarlsson.scheduler.FetchCandidates.lambda$run$1(FetchCandidates.java:117)\n\tat java.base/java.util.Optional.ifPresent(Optional.java:178)\n\tat com.github.kagkarlsson.scheduler.FetchCandidates.lambda$run$2(FetchCandidates.java:103)\n\tat com.github.kagkarlsson.scheduler.Executor.lambda$addToQueue$0(Executor.java:53)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\n",
  "X-Correlation-ID": "ff0a12d2-6591-44d0-8152-e63d49a05201"
}